<div id="content">
  <div ng-controller="ShowCaseCtrl as ctrl" layout="column">
    
    <md-content class="md-padding">
    <form ng-submit="$event.preventDefault()">
      <p>Use <code>md-autocomplete</code> to search for matches from local or remote data sources.</p>
      <md-autocomplete
        ng-disabled="ctrl.isDisabled"
        md-no-cache="ctrl.noCache"
        md-selected-item="ctrl.selectedItem"
        md-search-text-change="ctrl.searchTextChange(ctrl.searchText)"
        md-search-text="ctrl.searchText"
        md-selected-item-change="ctrl.selectedItemChange(item)"
        md-items="item in ctrl.querySearch(ctrl.searchText)"
        md-item-text="item.display"
        md-min-length="0"
        placeholder="What is your favorite US state?">

        <md-item-template>
          <span md-highlight-text="ctrl.searchText" md-hightlight-flags="^i">{{item.display}}</span>
        </md-item-template>
        <md-not-found>
          No matches found for "{{ctrl.searchText}}".
        </md-not-found>
      </md-autocomplete>
      <br/>

      <md-checkbox ng-model="ctrl.simulateQuery">Simulate query for results?</md-checkbox>
      <md-checkbox ng-model="ctrl.noCache">Disable caching of queries?</md-checkbox>
      <md-checkbox ng-model="ctrl.isDisabled">Disable the input?</md-checkbox>
      <p>By default, <code>md-autocomplete</code> will cache results when performing a query.
      After the initial call is performed, it will use the cached results to eliminate unneccessary
      server requests to lookup logic. This can be disabled above.</p>
    </form>
    </md-content>

  </div>

  <div ng-controller="CustomTemplateCtrl as ctrl" layout="column" ng-cloak>
    <md-content layout-padding layout="column">
      <form ng-submit="$event.preventDefault()">
        <p>Use <code>&lt;md-autocomplete&gt;</code> with custom templates to show styled autocomplete results.</p>
        <md-autocomplete
          ng-disabled="ctrl.isDisabled"
          md-no-cache="ctrl.noCache"
          md-selected-item="ctrl.selectedItem"
          md-search-text-change="ctrl.searchTextChange(ctrl.searchText)"
          md-search-text="ctrl.searchText"
          md-selected-item-change="ctrl.selectedItemChange(item)"
          md-items="item in ctrl.querySearch(ctrl.searchText)"
          md-item-text="item.name"
          md-min-length="0"
          placeholder="Pick an Angular repository"
          md-menu-class="autocomplete-custom-template">

          <md-item-template>
            <span class="item-title">
              <md-icon md-svg-icon="styles/img/icons/octicon-repo.svg"></md-icon>
              <span>{{item.name}}</span>
            </span>
            <span class="item-metadata">
              <span class="item-metastat">
                <strong>{{item.watchers}}</strong> watchers
              </span>
              <span class="item-metastat">
                <strong>{{item.forks}}</strong> forks
              </span>
            </span>
          </md-item-template>

        </md-autocomplete>
      </form>
    </md-content>
  </div>

  <div ng-controller="ShowCaseCtrl as ctrl" layout="column">
    <md-content class="md-padding">
      <form ng-submit="$event.preventDefault()" name="searchForm">
        <p>The following example demonstrates floating labels being used as a normal form element.</p>

        <div layout-gt-sm="row">
          
          <md-input-container flex>
            <label>Name</label>
            <input type="text"/>
          </md-input-container>

          <md-autocomplete flex required
            md-input-name="autocompleteField"
            md-input-minlength="2"
            md-input-maxlength="18"
            md-no-cache="ctrl.noCache"
            md-selected-item="ctrl.selectedItem"
            md-search-text="ctrl.searchText"
            md-items="item in ctrl.querySearch(ctrl.searchText)"
            md-item-text="item.display"
            md-floating-label="Favorite state">

            <md-item-template>
              <span md-highlight-text="ctrl.searchText">{{item.display}}</span>
            </md-item-template>

            <div ng-messages="searchForm.autocompleteField.$error" 
              ng-if="searchForm.autocompleteField.$touched">

              <div ng-message="required">You <b>must</b> have a favorite state.</div>
              <div ng-message="minlength">Your entry is not long enough.</div>
              <div ng-message="maxlength">Your entry is too long.</div>
              
            </div>

          </md-autocomplete>
        </div>
      </form>
    </md-content>
  </div>
</div>